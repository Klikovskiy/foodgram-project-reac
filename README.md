# Учебный проект 17 спринта Яндекс Практикум - Foodgram

### Описание
**«Продуктовый помощник Foodgram»** — это сервис, где пользователи смогут публиковать рецепты, подписываться на публикации других пользователей, добавлять понравившиеся рецепты в список «Избранное», а перед походом в магазин скачивать сводный список продуктов, необходимых для приготовления одного или нескольких выбранных блюд.


### Уровни доступа к страницам проекта
* **Анонимный пользователь** — может создать новый аккаунт, изучить рецепты других пользователей, фильтровать рецепты по тегам.
* **Авторизованный пользователь** — может войти на сайт, используя учетные данные, выходить из своей учетной записи, менять пароль, работать с персональным списком покупок, подписываться на публикации авторов рецептов и отменять подписку, просматривать свою страницу подписок. Имеет все возможности анонимного пользователя.
* **Администратор** — обладает всеми правами авторизованного пользователя. Может: изменять пароль любого пользователя,создавать/блокировать/удалять аккаунты пользователей, редактировать/удалять **любые** рецепты, добавлять/удалять/редактировать ингредиенты, добавлять/удалять/редактировать теги.

### Инструкция по запуску проекта:
1. Клонировать репозиторий:
```
git clone https://github.com/klikovskiy/foodgram-project-react
```
2. Перейдите в папку проекта
```
cd foodgram-project-react
```
3. В директории infra создайте .env с переменными окружения. Пример его наполнения:
```
DB_ENGINE=django.db.backends.postgresql # Указываем что работаем с Postgresql.
DB_NAME=postgres # Имя базы данных.
POSTGRES_USER=set_your_username # Логин для подключения к базе данных.
POSTGRES_PASSWORD=set_your_pwd # Пароль для подключения к базе данных.
DB_HOST=db # Название контейнера.
DB_PORT=5432 # Порт для подключения к Базе данных.
DEBUG=True # Режим работы сайта
```
4. В директории infra, отредактируйте файл nginx.conf, указав свой домен или ip адрес. Пример:
```
server_name <тут ваш id или домен>;
```
5. Запустите docker-compose. Для этого необходимо перейти в папку infra и выполнить команду:
```
docker-compose up -d --build
```
5. Проверьте, что контейнеры запустились:
```
docker container ls
```
6. Выполните миграции:
```
docker-compose exec backend python manage.py migrate
```
7. Создайте суперпользователя:
```
docker-compose exec backend python manage.py createsuperuser
```
8. Подгрузите статику:
```
docker-compose exec backend python manage.py collectstatic --noinput
```
9. Загрузите список ингредиентов в базу данных:
```
docker-compose exec backend python manage.py load_gradients
```
10. Загрузите список тегов в базу данных:
```
docker-compose exec backend python manage.py load_tags
```

Остановить работу контейнеров можно командой ```docker-compose down```.

## Технологии
### API
- Python 3.7-slim
- Django 3.2.18
- Django Rest Framework 5.2.2
- PostgreSQL 13.0
- Gunicorn 20.0.4
- Nginx 1.21.3

### Контейнер
- Docker 20.10.22
- Docker Compose 2.15.1